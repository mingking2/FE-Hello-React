# React (리액트를 다루는 기술)

- MVC, MVVM, MVW 등과 같은 여러 구조가 지닌 공통점은 모델(Model)과 뷰(View)가 있다는 것이다.
  - 모델은 애플리케이션에서 사용하는 데이터를 관리하는 영역이고, 뷰는 사용자에게 보이는 부분이다.
  - 프로그램이 사용자에게서 어떤 작업을 받으면 컨트롤러는 모델 데이터를 조회하거나 수정하고, 변경된 사항을 뷰에 반영한다.
    <br><br>
- 업데이트하는 항목에 따라 어떤 부분을 찾아서 변경할지 규칙을 정하는 작업은 간단하지만, 애플리케이션 규모가 크면 상당히 복잡해지고 제대로 관리하지 않으면 성능도 떨어질 수 있다.
  <br><br>
- 페이스북 개발 팀은 이를 해결하려고 하나의 아이디어를 고안했다.
  - 어떤 데이터가 변할 때마다 어떤 변화를 줄지 고민하는 것이 아니라 그냥 기존 뷰를 날려 버리고 처음부터 새로 렌더링하는 방식이다.
  - 이렇게 하면 애플리케이션 구조가 매우 간단하고, 작성해야 할 코드양도 많이 줄어든다.
  - 더이상 어떻게 변화를 줄지 신경 쓸 필요가 없고, 그저 뷰가 어떻게 생길지 선언하며, 데이터에 변화가 있으면 기존에 있던 것은 버리고 정해진 규칙에 따라 새로 렌더링하면 된다.
    <br><br>

**페이스북 개발 팀이 앞서 설명한 방식으로 최대한 성능을 아끼고 편안한 사용자 경험을 제공하면서 구현하고자 개발한 것이 바로 리액트이다.**

<br><br>

## 1장 리액트 시작

### 1.1 왜 리액트인가?

- 리액트는 자바스크립트 라이브러리로 사용자 인터페이스를 만드는 데 사용한다. 구조가 MVC, MVW 등인 프레임워크와 달리, **오직 V만 신경 쓰는 라이브러리이다.**
  <br><br>
- 리액트 프로젝트에서 특정 부분이 어떻게 생길지 정하는 선언체가 있는데, 이를 **컴포넌트**라고 한다.
- 컴포넌트는 다른 프레임워크에서 사용자 인터페이스를 다룰 때 사용하는 템플릿과는 다른 개념이다.
- 템플릿은 보통 데이터셋이 주어지면 HTML 태그 형식을 문자열로 반환하는데, 이와 달리 컴포넌트는 좀 더 복합적인 개념이다.
- 컴포넌트는 재사용이 가능한 API로 수많은 기능들을 내장하고 있으며, 컴포넌트 하나에서 해당 컴포넌트의 생김새와 작동 방식을 정의한다.
  <br><br>
- 렌더링: 사용자 화면에 뷰를 보여 주는 것
- 리액트 라이브러리는 뷰를 어떻게 렌더링하길래 데이터가 변할 때마다 새롭게 리렌더링하면서 성능을 아끼고, 최적의 사용자 경험을 제공할 수 있을까?
- 이 비밀을 알려면 리액트 컴포넌트가 최초로 실행한 **'초기 렌더링'** 과 컴포넌트의 데이터 변경으로 다시 실행되는 **'리렌더링'** 개념을 이해해야 한다.
  <br><br>
- 초기 렌더링
  - 어떤 UI 관련 프레임워크, 라이브러리를 사용하든지 간에 맨 처음 어떻게 보일지를 정하는 초기 렌더링이 필요하다. 리엑트에서는 이를 다루는 render 함수가 있다.
  - 이 함수는 컴포넌트가 어떻게 생겼는지 정의하는 역할을 한다. 이 함수는 html 형식의 문자열을 반환하지 않고, 뷰가 어떻게 생겼고 어떻게 동작하는지에 대한 정보를 지닌 객체를 반환한다.
  - 컴포넌트 내부에는 또 다른 컴포넌트들이 들어갈 수 있다. 이때 render 함수를 실행하면 그 내부에 있는 컴포넌트들도 재귀적으로 렌더링한다.
  - 이렇게 최상위 컴포넌트의 렌더링 작업이 끝나면 지니고 잇는 정보들을 사용하여 HTML 마크업을 만들고, 이를 우리가 정하는 실제 페이지의 DOM 요소 안에 주입한다.

![images](/images/초기%20렌더링.png)  
 <br><br>

- 조화 과정
  - 리액트 라이브러리에서 중요한 부분인 업데이트를 어떻게 진행하는지 알아보자.
  - 리엑트에서 뷰를 업데이트할 때는 "업데이트 과정을 거친다"라고 하기보다는 "조화 과정을 거친다"라고 하는 것이 더 정확하다.
  - 컴포넌트에서 데이터에 변화가 있을 때 우리가 보기에는 변화에 따라 뷰가 변형되는 것처럼 보이지만, 사실은 새로운 요소로 갈아 끼우기 때문이다.
    <br><br>
  - 이 작업 또한 render 함수가 맡아서 한다.
    - render 함수는 뷰가 어떻게 생겼고 어떻게 동작하는지 객체를 반환한다.
  - 컴포넌트는 데이터를 업데이트했을 때 단순히 업데이트한 값을 수정하는 것이 아니라, 새로운 데이터를 가지고 render 함수를 또 다시 생성한다.
    - 하지만 이때 render 함수가 반환하는 결과를 곧바로 DOM에 반영하지 않고, 이전에 render 함수가 만들었던 컴포넌트 정보와 현재 render 함수가 만든 컴포넌트 정보를 비교한다.
    <br><br>
    ![Alt text](/images/두%20DOM%20비교.png)
    <br><br>
    - 자바스크립트를 사용하여 두 가지 뷰를 최소한의 연산으로 비교한 후, 둘의 차이를 알아내 최소한의 연산으로 DOM 트리를 업데이트한다.
    <br><br>
    ![Alt text](/images/DOM%20트리의%20차이%20확인.png)
    <br><br>

**결국 방식 자체는 루트 노드부터 시작하여 전체 컴포넌트를 처음부터 다시 렌더링하는 것처럼 보이지만, 사실 최적의 자원을 사용하여 이를 수행하는 것이다.**    

<br><br>

### 1.2 리액트의 특징
- Virtual DOM
    - 리액트의 주요 특징 중 하나는 Virtual DOM을 사용하는 것이다.
    <BR><BR>
    - DOM(Document Object Model)
        - 객체로 문서 구조를 표현하는 방법으로 XML이나 HTML로 작성한다.
        - 웹 브라우저는 DOM을 활용하여 객체에 자바스크립트와 CSS를 적용한다.
        - DOM은 트리 형태라서 특정 노드를 찾거나 수정하거나 삭제하거나 원하는 곳에 삽입할 수 있다.
        <bR><BR>
    - DOM은 느린가?
        - 요즘 DOM API를 수많은 플랫폼과 웹 브라우저에서 사용하는데, **DOM의 문제점은 바로 동적 UI에 최적화되어 있지 않다는 것이다.**
        - HTML은 자체적으로는 정적이지만 자바스크립트를 사용하여 동적으로 만들 수 있다.
        - 하지만 요즘 흔히 접하는 큰 규모의 웹 애플리케이션(페이스북)을 생각해보자.
            - 스크롤바를 내릴수록 수많은 데이터가 로딩된다.
            - 규모가 큰 웹 애플리케이션에서 DOM에 직접 접근하여 변화를 주다 보면 성능 이슈가 조금씩 발생하기 시작한다. = 느려진다.
            - DOM자체는 빠르다. **단, 웹 브라우저 단에서 DOM에 변화가 일어나면 웹 브라우저가 CSS를 다시 연산하고, 레이아웃을 구성하고, 페이지를 리페인트한다.**
                - 이 과정에서 시간이 허비된다.
            <bR><BR>
    - 해결법
        - DOM을 조작할 때마다 엔진이 웹 페이지를 새로 그리기 때문에 업데이트가 너무 잦으면 성능이 저하될 수 있다.
        - DOM을 최소한으로 조작하여 작업을 처리하는 방식으로 개선할 수 있다.
        - **리액트는 Virtual DOM 방식을 사용하여 DOM 업데이트를 추상화함으로써 DOM 처리 횟수를 최소화하고 효율적으로 진행한다.**
        <bR><BR>
        <bR><BR>
    - Virtual DOM
        - Virtual DOM을 사용하면 실제 DOM에 접근하여 조작하는 대신, 이를 추상화한 자바스크립트 객체를 구성하여 사용한다.
        <bR><BR>
        - 리액트에서 데이터가 변하여 웹 브라우저에 실제 DOM을 업데이트할 때는 다음 세 가지 절차를 밟는다.
            1. 데이터를 업데이트하면 전체 UI를 Virtual DOM에 리렌더링한다.
            2. 이전 Virtual DOM에 있던 내용과 현재 내용을 비교한다.
            3. 바뀐 부분만 실제 DOM에 적용한다.
    <bR><BR>
    - 오른쪽의 **'새로운 DOM 트리'가 바로 Virtual DOM**이다.
    ![dom](/images/두%20DOM%20비교.png)
    <bR><BR>
        - 오해
            - Virtual DOM을 사용한다고 해서 사용하지 않을 때와 비교하여 무조건 빠른 것은 아니다.
            - **지속적으로 데이터가 변환하는 대규모 애플리케이션 구축하기** 
            - 래액트와 Virtual DOM이 언제나 제공할 수 있는 것은 바로 업데이트 처리 간결성이다. UI를 업데이트하는 과정에서 생기는 복잡함을 모두 해소하고, 더욱 쉽게 업데이트에 접근할 수 있다.
            

            
### 1.3 작업 환경 설정

## 2장 JSX

### 2.1 코드 이해하기

### 2.2 JSX란?

### 2.3 JSX의 장점

### 2.4 JSX 문법

### 2.5 ESLint와 Prettier 적용하기

### 2.6 정리

## 3장 컴포넌트

### 3.1 클래스형 컴포넌트

### 3.2 첫 컴포넌트 생성

### 3.3 props

### 3.4 state

### 3.5 state를 사용할 때 주의 사항

### 3.6 정리
